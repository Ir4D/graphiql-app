import{r as l,j as e,f as O,b as j,_ as ie,H as re}from"./index-Q6Ht9FM6.js";const ce="_main_page_11cju_4",oe="_menu_wrapper_11cju_16",le="_content_wrapper_11cju_37",ue="_menu_settings_11cju_45",pe="_menu_docs_11cju_46",de="_menu_tooltip_11cju_49",_e="_docsMain_11cju_68",he="_active_11cju_72",me="_docs_title_11cju_80",ge="_editor_wrapper_11cju_85",fe="_query_11cju_97",ye="_viewer_11cju_108",je="_query_title_11cju_118",Ae="_viewer_title_11cju_119",xe="_query_field_11cju_124",ve="_query_wrapper_11cju_131",we="_variables_11cju_138",be="_headers_11cju_139",ke="_query_text_11cju_144",Se="_query_btns_11cju_162",Te="_settings_current_api_11cju_184",Ne="_settings_select_api_11cju_193",Ce="_settings_other_api_11cju_209",o={main_page:ce,menu_wrapper:oe,content_wrapper:le,menu_settings:ue,menu_docs:pe,menu_tooltip:de,docsMain:_e,active:he,docs_title:me,editor_wrapper:ge,query:fe,viewer:ye,query_title:je,viewer_title:Ae,query_field:xe,query_wrapper:ve,variables:we,headers:be,query_text:ke,query_btns:Se,settings_current_api:Te,settings_select_api:Ne,settings_other_api:Ce},qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABn0lEQVR4nO2ZzUrDQBCAF3wATxatnn2Z+jhVH6A+gW9hwZOdKf2zO7EFzwoNO1Q8evFS66GeKpsEBWkxTXY3Kd0P9hSY2W8nk2Q3Qng8nlRAwGcoeQDEn0i8zDbUG0i+7vVe9oVLgPgq+6RXijx3xtOKu5UnXgKpBZKqt2lylCVOs7ncK0QCSd0nCev5Y/1O3pkEEM91stbw9dCYQMAHSPwUV5bDrFXdKKnpWM4k0JKAMwm0KOBEwraAdQmTAiDVLIo35JO/1zrjacXK08moAPFttMqSW84k0KRAMDkF4vfUb2zJj6US0Nz11TGSuvm5nWj9AMn90gk4B71ANoD4QQ+xrRVAU3m9QEbQVyDFSugmy7u9hDWNuk0CQWECNkEvsAsVAN/E7Jt4t3tgp5oYNvw0xhIKBKUTsAl6gQRfgcJvIckfOpDVM/yVZ0f6XEjNRF70j71YQJ3nDpY+52VyMjfIHaxNqhY/BtUCJF90R2FVWKI7CqvR5CV/JYtWMxIYJDfy7rw23qlJbgiTRJWI/xPPrU2aeK5zGFt5j0f8yzcs1kiFWete4wAAAABJRU5ErkJggg==",Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOElEQVR4nO1aW28VVRQe8YLGS6K+VhMvT+CLmEj0RfwBGDTGJ31FIcjllZr0zRh/RYlK2ooJgbP3nNKYWfvUEB8aQW2ga00RLBFfBRE1Isd8e/ZMp+3suZ3ejK7kpCdn71mXPevyrbUbBP/TUjo1felJbfiMJvlTG+nbj/3OZ7AWbHZSRqYyxZd9FPFksNlJu5Pvnp19LP0N360Bhv8INjtpd9p1f183mpjo371eBkzUlFWLOtP8tCYxmvhvbeRcaOIdRfui6PL9IcWvVRmAPdhbxCM08Q7IsLJIDGQPpLz+Up5Rhq8mmcQaAD/+pdPjnZmBJn5ZGZ5QRn5dDFb5aTkvRXItW7d7eTyk+KWMT493gvcyWVehQyvlYf2i8jiNHx/VJGOZEVH8jiLp5JS6mRjCB3QkQysOI5IhrGGPJv4tZ2zH8sqUlzEny6RGtHoTKQP8nZw8/yB+i6LontSIXI6/pIn3pnvqUBTNPhQaftc+u5TXGGRgD/hlRhBTI+URRNrwbbzKfDpMjVAko4r4uiI+OjMzc28j5nk5s7P3aeJh8NJGjqXKL0m/1p34duPAViTnl59Knvr9/l1tFa/DK1r6ts81ZoqMkPfLIiPWiqKc8tDBl/kqKZ8Z4DbBOpEiGS3KeK0IGcIF0vWRfn9LlU93KH5LGTmuSOaSzCQ38V0b/gxr2FPGY6Tf3+Jiog/ZwaCkjChnwNGyfSHxGyuyShGgMzyviV8v46WJh9MUO5DyKFKpUF+2SU5MPs7l9W9D4oO6J9uQCvEJp+PtiuSQNvJdzpCPfG8Ub0mR/OAqd1bsGpMtOkll3Ovd45QH0kRuL3MzrOlI9mFvakTglS3vJcbyeCvlJ84uPICSDx9G4fG6jVNe9+SVurzDKN6VGdGb21O05+RXFx9GxYYOPuxULsQBM7wFfxFKfB4n35S/Jtnv+Mc+99TEJ1wa3928DVz01QNFzyCjpD5flZ1Kqv33Vk5P3iw0IOL3VySCovbU1wZaBFkAzNwzx5Mg44NNlc8UNHLYZbhPiw2QoTyK9banRW1gpXASdqe3ra0B4XS83R3UXN1npqYuPL6iPW3T7qX43xfgdegkAtX1B01wk3sDdzbcAP21PJJW+cEM2CAXOh3NPzeAC/2+qAwyUGHp5599QQxs44QfamuA7skRd5qfFK13TfyE1aFYtzDbiJSEqG6TRgEP2qZRRTzbJo0q4i6Mq1fIiD/34hUAMzCNZF9TA2zvbOxJiq+QKSNf1CpkbaEEUGWGg6J4V13eHYpfdSd5BwdVAiVuaZIbraBEHsyVQQUAsgwPkewv612t2+DkU1cl+bAKarQGcyBA2XTy4GtELJx2RjiBgAeHUaTw5vCx2aYnR1Kfx8lD+RFP7GgtW7XhKwPDaVA2+yEeLt3Xm9sDYFbV0MDnfW6TUsfwB07m6WBQatJSIhiRUYBtlJGLLoZQ8C4gVWKtagwzgp6B5IbLTm8Ppnx+3GfkWLABTX3X8IutmGymsYomeb4xk6rBVpvi5aORAl7LjPhmVUeLcCc7+iAerhqTlJHWshUBm4wpZdQ3WlRG/mo8Wqw73FVGLqMSo/A0QqE2z/OVWsNdw1Gw1uP1pGryCYtfPON1rFl4gL11x+vEC5Nm7qmgDXWj+NmqC46k2PH4sguOa5UXHCRjlRccxAutLziKrpgQTINcMbkKvNuHbTrT8y+kV0xwm9YnX0R1gijtlsoMWC1Za0KrZcCGkTXAIU20fqVt4L/xXw10vg3crHQqaU+76ewz6xUMh77+Ovgv0z8f/T0gDObLtwAAAABJRU5ErkJggg==",Ee=r=>{const s={};return r&&r.split(`
`).forEach(a=>{const[n,c]=a.split(":");n&&c&&(s[n.trim()]=c.trim())}),s},Ve="_link_ykmtk_20",Ie="_toast_ykmtk_35",De={link:Ve,toast:Ie},J=({message:r,duration:s=3e3,onClose:t})=>{const[a,n]=l.useState(!0);return l.useEffect(()=>{const c=setTimeout(()=>{n(!1),t&&t()},s);return()=>{clearTimeout(c)}},[s,t]),a?e.jsx("div",{className:De.toast,children:r}):null},Pe=()=>{const[r,s]=l.useState(null),[t,a]=l.useState(!0),[n,c]=l.useState(null),[i,u]=l.useState(!1),{query:m,apiUrl:A,variables:g,headers:w}=O();l.useEffect(()=>{(async()=>{let y="Shomethig is wrong with this query. Try something else";try{let d;if(g)try{d=JSON.parse(g)}catch{y="Variables are in wrong format"}const x=w?Ee(w):{};x["Content-Type"]||(x["Content-Type"]="application/json");const b=await fetch(A,{method:"POST",headers:x,body:JSON.stringify({query:m,variables:d})}),T=await b.json();if(s(T),a(!1),!b.ok)throw new Error(y)}catch(d){if(d instanceof SyntaxError&&d.message==="Unexpected end of JSON input"||d instanceof TypeError&&d.message==="Failed to fetch")return;d instanceof SyntaxError||d instanceof TypeError?c(y):c(d.message),u(!0)}})()},[A,w,m,g]);const S=()=>{u(!1)};return e.jsx("div",{children:t?e.jsx("div",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[n&&i&&e.jsx(J,{message:`Error: ${n}`,onClose:S}),e.jsx("pre",{children:JSON.stringify(r,null,2)})]})})},Ue="_link_tjct0_20",Qe="_settings_modal_tjct0_35",Oe="_settings_content_tjct0_47",Je="_settings_header_tjct0_54",Be="_settings_footer_tjct0_55",Ge="_settings_body_tjct0_59",f={link:Ue,settings_modal:Qe,settings_content:Oe,settings_header:Je,settings_footer:Be,settings_body:Ge},Ke=({active:r,onSubmit:s,onClose:t,children:a})=>{const{locale:n,messages:c}=j();return r?e.jsx("div",{"data-testid":"settings-modal",onClick:t,className:f.settings_modal,children:e.jsxs("div",{onClick:i=>i.stopPropagation(),className:f.settings_content,children:[e.jsx("div",{className:f.settings_header,children:e.jsx("div",{className:f.settings_title,children:c[n].settings_title})}),e.jsx("div",{className:f.settings_body,children:a}),e.jsxs("div",{className:f.settings_footer,children:[e.jsx("button",{onClick:s,className:f.settings_sumbit,children:c[n].settings_submit}),e.jsx("button",{onClick:t,className:f.settings_cancel,children:c[n].settings_cancel})]})]})}):null};function Me(r){const s={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...r},t=s.descriptions?"description":"",a=s.specifiedByUrl?"specifiedByURL":"",n=s.directiveIsRepeatable?"isRepeatable":"",c=s.schemaDescription?t:"";function i(u){return s.inputValueDeprecation?u:""}return`
    query IntrospectionQuery {
      __schema {
        ${c}
        queryType { name }
        mutationType { name }
        subscriptionType { name }
        types {
          ...FullType
        }
        directives {
          name
          ${t}
          ${n}
          locations
          args${i("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${t}
      ${a}
      fields(includeDeprecated: true) {
        name
        ${t}
        args${i("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${i("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${t}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${t}
      type { ...TypeRef }
      defaultValue
      ${i("isDeprecated")}
      ${i("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}const Le=async(r,s)=>{try{return(await(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:Me()})})).json()).data.__schema}catch(t){(t instanceof SyntaxError&&t.message==="Unexpected end of JSON input"||t instanceof TypeError&&t.message==="Failed to fetch")&&s(t)}},Fe=r=>{let s=0,t=!1,a=!1;const n=[];for(let c=0;c<r.length;c++){const i=r[c],u=r[c+1],m=r[c-1];if(i==="("?t=!0:i===")"&&(t=!1),s<0)return;if(i.match(/[a-zA-Z0-9]/)&&u&&u.match(/[a-zA-Z0-9]/)&&!a)n.push(i," ");else if((i===":"||i===",")&&t)u&&u!=="{"?n.push(i," "):n.push(i);else if(i==="{")t?n.push(" ",i):(s++,a=!0,c!==0&&m!==":"&&n.push(" "),n.push(i,`
`,"  ".repeat(s)));else if(i==="}"&&!t){if(s<=0)return;s--,a=!1,n.push(`
`,"  ".repeat(s),i)}else a&&i.match(/[a-zA-Z0-9]/)&&u&&u.match(/[a-zA-Z0-9]/)?n.push(i,`
`,"  ".repeat(s)):n.push(i)}return n.join("")},We="_link_1qjap_20",ze="_inputEditor_text_1qjap_35",Ze="_inputEditor_item_1qjap_52",U={link:We,inputEditor_text:ze,inputEditor_item:Ze},Q=({value:r,onChange:s,placeholder:t,title:a})=>{const[n,c]=l.useState(!1),{locale:i,messages:u}=j(),m=()=>{c(!n)},A=g=>{s(g.target.value)};return e.jsxs("div",{children:[e.jsx("h4",{className:U.inputEditor_item,"data-testid":"title-test-id",onClick:m,children:u[i][a]}),n&&e.jsx("textarea",{className:U.inputEditor_text,"data-testid":"textarea-test-id",value:r,onChange:A,placeholder:t})]})},Xe=r=>{const s=[];for(let t=0;t<r.length;t++){const a=r[t],n=r[t+1];a==="{"?s.push(a,`
`,"  "):a===":"?s.push(a," "):a===","?n==="}"?s.push(a,`
`):s.push(a,`
`,"  "):n==="}"?s.push(a,`
`):s.push(a)}return s.join("")},He=()=>{const[r,s]=l.useState(!1),[t,a]=l.useState(""),[n,c]=l.useState(!1),[i,u]=l.useState(!1),[m,A]=l.useState(""),[g,w]=l.useState(""),[S,R]=l.useState(!1),[y,d]=l.useState(""),[x,b]=l.useState(""),[T,E]=l.useState(null),[B,V]=l.useState(!1),[G,K]=l.useState("Something went wrong"),{locale:_,messages:h}=j(),{apiUrl:N,setApiUrl:I,changeApiUrl:D,setQuery:C,changeQuery:q,setVariables:M,setHeaders:L}=O(),F=l.lazy(()=>ie(()=>import("./Docs-OeetYjPt.js"),__vite__mapDeps([0,1,2,3]))),P=()=>{s(p=>!p)},W=p=>{d(p)},z=p=>{b(p)},Z=p=>{a(()=>p.target.value)},X=async()=>{await C(t),await q(t),await M(y),await L(x),c(!0)},Y=()=>{try{const p=t.match(/[a-zA-Z0-9]+|[^\s\w]/g),k=y.match(/"[^"]*"+|\w+|[^\s\w]/g);if(p){const v=Fe(p);v&&(C(v),q(v),a(v))}if(k){const v=Xe(k);d(v)}}catch{}},H=()=>{u(!0),r&&P()},$=()=>{u(!1)},ee=async()=>{S?(await I(g),await D(g)):(await I(m),await D(m)),C(""),q(""),a(""),d(""),b(""),u(!1),c(!1)},te=async p=>{const k=p.target.value;await A(k),await R(k==="other")},se=async p=>{await w(p.target.value)},ne=()=>{V(!0)},ae=()=>{V(!1)};return l.useEffect(()=>{K("Unable to get this API, please check that your URL is correct"),(async()=>E(await Le(N,ne)))()},[N]),e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsxs("main",{className:o.main_page,children:[e.jsxs("aside",{className:o.menu_wrapper,children:[T?e.jsxs("button",{className:o.menu_docs,onClick:P,children:[e.jsx("img",{src:qe,alt:"Docs"}),e.jsx("span",{className:o.menu_tooltip,children:h[_].docs_title})]}):e.jsx("div",{}),e.jsxs("button",{className:o.menu_settings,children:[e.jsx("img",{src:Re,alt:"Settings",onClick:H}),e.jsx("span",{className:o.menu_tooltip,children:h[_].settings_title})]})]}),e.jsxs("section",{className:o.content_wrapper,children:[e.jsxs("div",{className:`${o.docsMain} ${r?o.active:""}`,children:[e.jsx("h3",{className:o.docs_title,children:h[_].docs_title}),e.jsx(l.Suspense,{fallback:e.jsx("p",{children:"Loading..."}),children:e.jsx(F,{schema:T})})]}),e.jsxs("div",{className:o.editor_wrapper,children:[B&&e.jsx(J,{message:G,onClose:ae}),e.jsxs("div",{className:o.query,children:[e.jsxs("div",{className:o.query_field,children:[e.jsx("h3",{className:o.query_title,children:h[_].query_title}),e.jsx("textarea",{className:o.query_text,value:t,onChange:Z,placeholder:h[_].query_placeholder})]}),e.jsxs("div",{className:o.query_btns,children:[e.jsx("button",{onClick:X,children:h[_].start}),e.jsx("button",{onClick:Y,children:h[_].prettify})]}),e.jsxs("div",{className:o.query_wrapper,children:[e.jsx("div",{className:o.variables,children:e.jsx(Q,{value:y,onChange:W,placeholder:j().messages[j().locale].enter_variables_placeholder,title:"variables"})}),e.jsx("div",{className:o.headers,children:e.jsx(Q,{value:x,onChange:z,placeholder:j().messages[j().locale].enter_headers_placeholder,title:"headers"})})]})]}),e.jsxs("div",{className:o.viewer,children:[e.jsx("h3",{className:o.viewer_title,children:h[_].viewer_title}),n&&e.jsx(Pe,{})]})]})]})]}),e.jsxs(Ke,{active:i,onSubmit:ee,onClose:$,children:[e.jsxs("div",{className:o.settings_current_api,children:[h[_].settings_current,":",e.jsxs("span",{children:[" ",N]})]}),e.jsxs("div",{className:o.settings_new_api,children:[e.jsxs("label",{children:[h[_].settings_choose,":",e.jsxs("select",{className:o.settings_select_api,value:m,onChange:te,children:[e.jsx("option",{value:"https://rickandmortyapi.com/graphql",children:"Rick and Morty API"}),e.jsx("option",{value:"https://swapi-graphql.netlify.app/.netlify/functions/index",children:"Star Wars API"}),e.jsx("option",{value:"other",children:h[_].settings_other})]})]}),S&&e.jsxs("div",{className:o.settings_other_api,children:[h[_].settings_yours,":",e.jsx("input",{type:"text",value:g,onChange:se,"data-testid":"custom-api-input"})]})]})]})]})};export{He as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Docs-OeetYjPt.js","assets/index-Q6Ht9FM6.js","assets/index-WmseYLRa.css","assets/Docs-6NWEEYbl.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}